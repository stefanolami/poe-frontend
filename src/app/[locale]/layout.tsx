import type { Metadata } from 'next'
import './globals.css'
import { unstable_setRequestLocale } from 'next-intl/server'
import Header from '@/components/Header'
import HeaderWrapper from '@/components/HeaderWrapper'
import { ContextProvider } from '../context-provider'
import { jose, unna } from '../fonts'
import { locales } from '../../navigation'

export const metadata: Metadata = {
	title: 'Create Next App',
	description: 'Generated by create next app',
}

export function generateStaticParams() {
	return locales.map((locale) => ({ locale }))
}

export default function LocaleLayout({
	children,
	params: { locale },
}: {
	children: React.ReactNode
	params: { locale: string }
}) {
	unstable_setRequestLocale(locale)
	return (
		<html
			lang={locale}
			className={`${jose.variable} ${unna.variable}`}
		>
			<body>
				<HeaderWrapper></HeaderWrapper>
				<main>
					<ContextProvider>{children}</ContextProvider>
				</main>
			</body>
		</html>
	)
}
